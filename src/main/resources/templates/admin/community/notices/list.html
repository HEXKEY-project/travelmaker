<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>공지사항</title>
    <link rel="stylesheet" type="text/css" href="/admin/css/community/list.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="/admin/js/product/regist.js" type="text/javascript"></script>

</head>
<body style="width: 1920px;">
<div th:include="common/admin/header.html"></div>

<div id="wrapper">
    <div th:include="common/admin/nav.html"></div>

    <div class="adminNotices_body" id="adminNotices_wrapper">
        <p class="adminNotices_title">공지사항 관리</p>
        <p class="adminNotices_content">공지사항 조회</p>
        <div class="adminNotices_tbl">
            <table class="tal_adminNotices">
                <tbody>
                <tr>
                    <th class="th_content">분류 선택</th>
                    <td colspan="3">
                        <form id="searchForm">
                        <select class="searchCondition" id="searchCondition" name="searchCondition">
                            <option value>분류</option>
                            <option value="">작성자</option>
                            <option value="title" th:selected="${ paging.searchCondition eq 'title'}">제목</option>
                            <option value="body" th:selected="${ paging.searchCondition eq 'body'}">내용</option>
                            <option value="registeredDate" th:selected="${ paging.searchCondition eq 'registeredDate'} or ${ paging.searchCondition eq 'modifiedDate' }">날짜</option>
                        </select>
                        <input class="inputSelect" type="search" id="searchValue" name="searchValue" placeholder="검색어 입력">
                    </td>
                </tr>
                </tbody>
            </table>
                            <button class="searchButton" type="submit">공지사항 조회</button>
                        </form>
        </div>

        <div>
            <div style="text-align: center; width: 1436px; display: flex;justify-content: flex-start; margin-top: 40px;">
            <p class="adminNotices_content2">공지사항 목록</p>
                <button class="searchButton2" type="submit" style="display :inline-block; margin-right: 8px;" align="right" onclick="location.href='write'">공지사항 작성</button>
            <button class="searchButton2" type="submit" style="display :inline-block; margin-right: 8px;" align="right">공지사항 수정</button>
                <button class="searchButton2" type="submit" style="display :inline-block;" align="right">공지사항 삭제</button>
            </div>
            <div class="adminNotices_tbl">
                <table class="tal_adminNotices">
                    <tbody>
                    <tr>
                        <th><input type="checkbox" id="cbAll"></th>
                        <th class="th_content">번호</th>
                        <th class="th_content">분류</th>
                        <th class="th_content3"></th>
                        <th colspan=4 class="th_content" align="left">공지사항 제목</th>
                        <th class="th_content">작성자</th>
                        <th class="th_content">등록일</th>
                        <th class="th_content">수정일</th>
                    </tr>
                    <tr class="tr2">
                        <table class="tal_adminNotices2" th:each="notices ,test : ${ noticesList }">
                        <th class="th2"><input type="checkbox" class="cb"></th>
                        <th class="th2 th_content" th:text="${paging.totalCount - (paging.page * paging.limit)- test.index + paging.limit}"/>
                        <th class="th2 th_content" th:text="${ notices.category.name }" th:if="${notices.category.code}==1" style="color:crimson"/>
                            <th class="th2 th_content" th:text="${ notices.category.name }" th:if="${notices.category.code}==2"/>
                            <th class="th2 th_content" th:text="${ notices.category.name }" th:if="${notices.category.code}==3" style="color:#0075BD"/>
                        <th class="th_content3" style="background-color: white"></th>
                        <th colspan=4 class="th2 th_content2" align="left" th:text="${ notices.title }"/>
                        <th class="th2 th_content">작성자</th>
                        <th class="th2 th_content" th:text="${ #dates.format(notices.registeredDate, 'yyyy.MM.dd') }"/>
                        <th class="th2 th_content" th:text="${ #dates.format(notices.registeredDate, 'yyyy.MM.dd') }" th:if="${ notices.modifiedDate }!=null"></th>
                            <th class="th2 th_content" th:text="ㅡ" th:if="${ notices.modifiedDate }==null"></th>
                        </table>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div id="paging" align="right" style="margin-top: 16px;">

            <th:block>
<!--                    th:if="${ paging.searchCondition == null  || paging.searchValue == null }">-->
                <!-- 맨 앞으로 이동 -->
                <button class="pagingButton" th:onclick="'location.href=\'/admin/notices/list?page=1\''">《</button>

                <!-- 이전 페이지로 이동 -->
                <button class="pagingButton"
                        th:onclick="'location.href=\'/admin/notices/list?page=' + @{${paging.page - 1}} + '\''"
                        th:disabled="${ paging.page <= 1 }">〈</button>

                <!-- 숫자 버튼 -->
                <th:block
                        th:each="page : ${ #numbers.sequence(paging.startPage, paging.endPage)}">
                    <button class="pagingButton"
                            th:onclick="'location.href=\'/admin/notices/list?page=' + @{${page}} + '\''"
                            th:text="${ page }" th:disabled="${ paging.page eq page }">
                    </button>
                </th:block>

                <!-- 다음 페이지로 이동 -->
                <button class="pagingButton"
                        th:onclick="'location.href=\'/admin/notices/list?page=' + @{${paging.page + 1}} + '\''"
                        th:disabled="${ paging.page >= paging.maxPage }">〉</button>

                <!-- 맨 끝으로 이동 -->
                <button class="pagingButton"
                        th:onclick="'location.href=\'/admin/notices/list?page=' + @{${paging.maxPage}} + '\''">》</button>
            </th:block>

        </div>


    </div>
</div>
</body>
</html>